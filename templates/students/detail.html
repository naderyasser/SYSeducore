{% extends 'base.html' %} {% load static %} {% block title %}ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨ - {{
student.full_name }}{% endblock %} {% block content %}
<div class="container mt-4">
  <div class="row">
    <!-- Back Button -->
    <div class="col-md-12">
      <a href="{% url 'students:list' %}" class="btn btn-secondary mb-3">
        â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©
      </a>
    </div>

    <!-- Student Details -->
    <div class="col-md-12">
      <div class="card">
        <div class="card-header">
          <h4>ğŸ‘¤ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨</h4>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6">
              <div class="detail-item">
                <strong>Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯:</strong>
                <p class="detail-value">{{ student.barcode }}</p>
              </div>
              <div class="detail-item">
                <strong>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„:</strong>
                <p class="detail-value">{{ student.full_name }}</p>
              </div>
              <div class="detail-item">
                <strong>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©:</strong>
                <p class="detail-value">{{ student.group.group_name }}</p>
              </div>
              <div class="detail-item">
                <strong>Ø§Ù„Ù…Ø¯Ø±Ø³:</strong>
                <p class="detail-value">
                  {{ student.group.teacher.full_name }}
                </p>
              </div>
              <div class="detail-item">
                <strong>Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©:</strong>
                <p class="detail-value">
                  <span class="status-{{ student.financial_status }}">
                    {{ student.get_financial_status_display }}
                  </span>
                </p>
              </div>
              <div class="detail-item">
                <strong>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø®ØµØµ:</strong>
                <p class="detail-value">{{ student.custom_fee|default:"-" }}</p>
              </div>
              <div class="detail-item">
                <strong>Ø±Ù‚Ù… ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±:</strong>
                <p class="detail-value">{{ student.parent_phone }}</p>
              </div>
              <div class="detail-item">
                <strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong>
                <p class="detail-value">
                  {% if student.is_active %}
                  <span class="status-active">Ù†Ø´Ø·</span>
                  {% else %}
                  <span class="status-inactive">ØºÙŠØ± Ù†Ø´Ø·</span>
                  {% endif %}
                </p>
              </div>
            </div>

            <div class="col-md-6">
              <h5>Ø³Ø¬Ù„ Ø§Ù„Ø­Ø¶ÙˆØ±</h5>
              <div class="table-responsive">
                <table class="table table-striped table-hover">
                  <thead>
                    <tr>
                      <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                      <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for attendance in
                    student.attendances.all|order_by('-scan_time')|slice:":10"
                    %}
                    <tr>
                      <td>
                        {{ attendance.session.session_date|date:"Y-m-d" }}
                      </td>
                      <td>
                        <span class="status-{{ attendance.status }}">
                          {% if attendance.status == 'present' %}Ø­Ø§Ø¶Ø± {% elif
                          attendance.status == 'late' %}Ù…ØªØ£Ø®Ø± {% elif
                          attendance.status == 'absent' %}ØºØ§Ø¦Ø¨ {% endif %}
                        </span>
                      </td>
                      <td>{{ attendance.scan_time|time:"H:i" }}</td>
                    </tr>
                    {% empty %}
                    <tr>
                      <td colspan="3" class="text-center text-muted">
                        Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø³Ø¬Ù„ Ø­Ø¶ÙˆØ±
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% endblock %}
</div>
